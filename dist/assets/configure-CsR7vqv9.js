import{c,j as e,r as l}from"./index-YHS45fdz.js";import{u as d,I as m,D as u}from"./use-data-table-20rLmJpY.js";import{s as p}from"./sampleData-D4jdMPR2.js";import{I as f}from"./IconPencil-Dxax54-Y.js";import{L as b,B as n}from"./select-B4j-gB7J.js";const h=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],g=c("outline","plus","Plus",h),x=(i,a)=>[{accessorKey:"type",header:"Type",size:80,maxSize:80,minSize:80,cell:({getValue:t,row:r})=>r.original.isFirstInGroup?e.jsx("div",{className:"flex p-2 items-center justify-center bg-white border-r",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:`calc(-100% * ${r.original.groupSize-1})`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:t()}):e.jsx("div",{style:{height:"100%"}})},{accessorKey:"resourceGroup",header:"Resource Group",size:120,maxSize:120,minSize:120,cell:({getValue:t,row:r})=>r.original.isFirstInGroup?e.jsx("div",{className:"font-medium bg-white border-r",title:t(),style:{position:"absolute",top:"0",left:"0",right:"0",bottom:`calc(-100% * ${r.original.groupSize-1})`,display:"flex",alignItems:"center",paddingLeft:"1rem",zIndex:1},children:t()}):e.jsx("div",{style:{height:"100%"}})},{accessorKey:"dataStoreType",header:"Data Store Type",size:150,maxSize:150,minSize:150,cell:({getValue:t})=>e.jsx("div",{className:"truncate w-full",title:t(),children:t()})},{accessorKey:"dataStoreName",header:"Data Store Name",size:180,maxSize:180,minSize:180,cell:({getValue:t})=>e.jsx("div",{className:"truncate w-full",title:t(),children:t()})},{accessorKey:"importEnabled",header:"Import",size:100,maxSize:100,minSize:100,cell:({getValue:t,row:r})=>e.jsx("div",{className:"flex justify-center w-full",children:e.jsx("button",{onClick:()=>i?.(r.original),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${t()?"bg-[var(--brand-primary)]":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t()?"translate-x-6":"translate-x-1"}`})})})},{id:"actions",header:"Edit",size:80,maxSize:80,minSize:80,cell:({row:t})=>t.original.isFirstInGroup?e.jsx("div",{className:"flex justify-center border-l bg-white",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:`calc(-100% * ${t.original.groupSize-1})`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:e.jsx("button",{onClick:()=>a?.(t.original),className:"w-5 h-5 cursor-pointer hover:opacity-80 transition-opacity","aria-label":`Edit ${t.original.resourceGroup}`,children:e.jsx(f,{className:"w-full h-full",color:"#0b6bcb"})})}):e.jsx("div",{style:{height:"100%"}})}],y=i=>{const a=[];return i.forEach(t=>{const r=t.dataStore.length;t.dataStore.forEach((o,s)=>{a.push({id:`${t.id}-${s}`,type:t.type,resourceGroup:t.resourceGroup,dataStoreType:o.dataStoreType,dataStoreName:o.dataStoreName,importEnabled:o.importEnabled,isFirstInGroup:s===0,groupSize:r})})}),a},j=10;function S(){const i=s=>{console.log("Toggle import for:",s)},a=s=>{console.log("Edit row:",s)},t=l.useMemo(()=>y(p),[]),r=l.useMemo(()=>x(i,a),[i,a]),{table:o}=d({data:t,columns:r,pageCount:1,initialState:{pagination:{pageIndex:0,pageSize:j}},getRowId:s=>s.id});return e.jsxs("div",{className:"h-full p-4 mt-4 bg-background",children:[e.jsx("style",{children:`
        /* Make cells in merged columns relatively positioned */
        table td:first-child,
        table td:nth-child(2),
        table td:last-child {
          position: relative;
        }
        
        /* Hide borders between grouped rows */
        table tbody tr td:first-child,
        table tbody tr td:nth-child(2),
        table tbody tr td:last-child {
          border-bottom: none !important;
        }
        
        /* Add border only after last row in group */
        table tbody tr:has(+ tr td:first-child > div) td,
        table tbody tr:last-child td {
          border-bottom: 1px solid #e5e7eb !important;
        }
      `}),e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("h1",{className:"text-2xl font-bold text-[var(--brand-secondary)] font-['UnileverDesirebold']",children:"All Available RG's"})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(b,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(n,{variant:"secondary",className:"flex items-center gap-2",style:{backgroundColor:"#e3effb",color:"var(--brand-secondary)"},children:[e.jsx(m,{style:{color:"var(--brand-secondary)"},stroke:3}),e.jsx("p",{className:"font-semibold",children:"Filter (3)"})]}),e.jsxs(n,{variant:"outline",className:"flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"white"},children:[e.jsx(g,{className:"h-4 w-4",stroke:2}),e.jsx("p",{className:"font-normal",children:"Add Manual RG"})]})]})]}),e.jsx("div",{children:e.jsx(u,{table:o})})]})}const C=S;export{C as component};
